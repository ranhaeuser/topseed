extends  ../../_part/admin/_baseShell

block head
	title News Admin
	include ../../_part/admin/_header
	//- ff style gets lost after navigation. It seems the only reliable way to load it is in main.js (here: admin.js)
	//-link(rel='stylesheet', href='https://cdn.datatables.net/1.10.15/css/jquery.dataTables.min.css')

block main
	.mui-container-fluid
		h2.mui--pull-left News Item List
		h2.mui--pull-right
			a.mui-btn.mui-btn--raised(href='./detail.html') Add	Item    
		span.mui--clearfix

		table#grid.display(width='100%', cellspacing='0')

	script.
		//TS.onAppReady(UIinit) 
		TS.onAppReady(function(){TS.loadNX('/admin/news/NewsService.js', UIinit)}) 
		
		function UIinit() {
			const ps = NewsService()
			ps.list('#grid') //any useful parameter, here it's the div ID
		}

block footer
	include ../../_part/_footer

